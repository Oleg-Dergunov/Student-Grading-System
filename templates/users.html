{% extends "base.html" %}
{% block content %}

<h1>Manage Users</h1>

<a href="/users/add_user">Add User</a>
<br><br>

<table border="1" cellpadding="8" style="width:100%; border-collapse:collapse;">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Email</th>
        <th>Role</th>
        <th>Status</th>
    </tr>

    {% set role_names = {
    "student": "Student",
    "teacher": "Teacher",
    "admin": "Administrator"
    } %}

    {% for u in users %}
    <tr class="clickable-row" data-href="{{ url_for('users.edit_user', user_id=u.id) }}"
        onclick="window.location=this.dataset.href">

        <td>{{ "%05d" | format(u.id) }}</td>
        <td>{{ u.first_name }} {{ u.last_name }}</td>
        <td>{{ u.email }}</td>
        <td>{{ role_names[u.role] }}</td>
        <td>{{ "Active" if u.active else "Inactive" }}</td>
    </tr>
    {% endfor %}
</table>


{% endblock %}