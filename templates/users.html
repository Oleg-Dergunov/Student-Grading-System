<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Users</title>
</head>

<body>
    
    {% extends "base.html" %}
    {% block content %}    
    
    <h1>Manage Users</h1>

    <a href="/users/add_user">Add User</a>
    <br><br>

    <table border="1" cellpadding="8" style="width:100%; border-collapse:collapse;">
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Status</th>
            <th></th>
        </tr>

        {% set role_names = {
        "student": "Student",
        "teacher": "Teacher",
        "admin": "Administrator"
        } %}


        {% for u in users %}
        <tr>
            <td>{{ "%05d" | format(u.id) }}</td>
            <td>{{ u.firstName }} {{ u.lastName }}</td>
            <td>{{ u.email }}</td>
            <td>{{ role_names[u.role] }}</td>
            <td>{{ "Active" if u.active else "Inactive" }}</td>
            <td>
                <center><a href="{{ url_for('users.edit_user', user_id=u.id) }}">Edit</a></center>
            </td>
        </tr>
        {% endfor %}
    </table>
    
    {% endblock %}

</body>

</html>